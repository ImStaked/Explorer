"use strict";(self["webpackChunkping_wallet"]=self["webpackChunkping_wallet"]||[]).push([[5545],{45545:function(t,e,r){r.r(e),r.d(e,{default:function(){return D}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-md"},[r("b-card",[r("b-row",[r("b-col",[r("b-input-group",[r("b-form-input",{attrs:{placeholder:"Button on both side"},model:{value:t.rpc,callback:function(e){t.rpc=e},expression:"rpc"}}),r("b-input-group-append",[r("b-button",{attrs:{variant:"outline-primary"},on:{click:function(e){return t.onchange()}}},[t._v(" Monitor ")])],1)],1)],1)],1),200!==t.httpstatus?r("div",{staticClass:"text-danger"},[t._v(" "+t._s(t.httpstatus)+": "+t._s(t.httpStatusText)+" ")]):t._e()],1),t.roundState["height/round/step"]?r("b-row",[r("b-col",{attrs:{lg:"3",sm:"6"}},[r("dashboard-card-horizontal",{attrs:{icon:"ArrowUpCircleIcon",color:"danger",statistic:t.rate,"statistic-title":"Onboard Rate"}})],1),r("b-col",{attrs:{lg:"3",sm:"6"}},[r("dashboard-card-horizontal",{attrs:{icon:"HashIcon",color:"success",statistic:t.height,"statistic-title":"Height"}})],1),r("b-col",{attrs:{lg:"3",sm:"6"}},[r("dashboard-card-horizontal",{attrs:{icon:"RepeatIcon",statistic:t.round,"statistic-title":"Round"}})],1),r("b-col",{attrs:{lg:"3",sm:"6"}},[r("dashboard-card-horizontal",{attrs:{icon:"CodeIcon",color:"info",statistic:t.step,"statistic-title":"Step"}})],1)],1):t._e(),t.roundState["height/round/step"]?r("b-card",[r("b-card-title",{staticClass:"d-flex justify-content-between"},[r("small",{staticClass:"text-danger"},[t._v("Updated at "+t._s(t.format(t.updatetime)))])]),t._l(t.roundState.height_vote_set,(function(e){return r("div",{key:e.round},[r("small",[t._v("Round: "+t._s(e.round)+" "+t._s(e.prevotes_bit_array))]),r("b-card-body",{staticClass:"px-0"},t._l(e.prevotes,(function(e,n){return r("b-badge",{key:n,staticStyle:{margin:"2px"},attrs:{size:"sm",variant:t.color(n,e)}},[r("small",{staticClass:"small"},[t._v(t._s(t.showName(n,e)))])])})),1)],1)})),r("b-card-footer",[r("b-button",{attrs:{variant:"primary",size:"sm"}}),t._v(" Proposer Signed "),r("b-button",{attrs:{variant:"dark",size:"sm"}}),t._v(" Proposer Not Signed "),r("b-button",{attrs:{variant:"success",size:"sm"}}),t._v(" Signed "),r("b-button",{attrs:{variant:"secondary",size:"sm"}}),t._v(" Not Signed ")],1)],2):t._e(),r("b-alert",{attrs:{variant:"info",show:""}},[r("h4",{staticClass:"alert-heading"},[t._v(" Tips ")]),r("div",{staticClass:"alert-body"},[r("ul",[r("li",[t._v("This tool is useful for validators to monitor who is onboard during an upgrade")]),r("li",[t._v('If you want to change the default rpc endpoint. make sure that "https" and "CORS" are enabled on your server.')])])])])],1)},i=[],a=(r(74916),r(15306),r(23123),r(41539),r(54747),r(9653),r(56977),r(21249),r(69826),r(82526),r(41817),r(23157),r(73106)),o=r(26034),s=r(26253),c=r(50725),u=r(8775),l=r(40670),p=r(37674),d=r(4060),h=r(22183),f=r(22418),b=r(15193),v=r(75200),m=r(49379),g=r(83300),y=r.n(g),O=r(54333),w=r(19938),_=r.n(w),j=r(67857),S={components:{BAlert:a.F,BBadge:o.k,BRow:s.T,BCol:c.l,BCard:u._,BCardBody:l.O,BCardFooter:p.F,BInputGroup:d.w,BFormInput:h.e,BInputGroupAppend:f.B,BButton:b.T,BAvatar:v.SH,BCardTitle:m._,vSelect:_(),DashboardCardHorizontal:j.Z},data:function(){var t=(0,O.getLocalChains)();return{showPrevote:!1,httpstatus:200,httpStatusText:"",roundState:{},chains:t,vals:[],positions:[],updatetime:new Date,rpc:"",height:"-",round:"-",step:"-",rate:"-"}},computed:{selected:function(){return this.$store.state.chains.selected.chain_name}},created:function(){this.validators(),this.rpc="".concat(this.chains[this.selected].rpc[0],"/consensus_state"),this.fetchPosition(),this.update(),this.timer=setInterval(this.update,6e3)},beforeDestroy:function(){clearInterval(this.timer)},methods:{format:function(t){return(0,O.toDay)(t,"time")},color:function(t,e){return t===this.roundState.proposer.index?"nil-Vote"===e?"dark":"primary":"nil-Vote"===e?"secondary":"success"},fetchPosition:function(){var t=this,e=this.rpc.replace("consensus_state","dump_consensus_state");y()(e).then((function(e){return t.httpstatus=e.status,t.httpStatusText=e.httpStatusText,e.json()})).then((function(e){t.positions=e.result.round_state.validators.validators}))},update:function(){var t=this;this.rate="0%",this.updatetime=new Date,200===this.httpstatus&&y()(this.rpc).then((function(e){return t.httpstatus=e.status,t.httpStatusText=e.httpStatusText,e.json()})).then((function(e){t.roundState=e.result.round_state;var r=t.roundState["height/round/step"].split("/");t.height=r[0],t.round=r[1],t.step=r[2],t.roundState.height_vote_set.forEach((function(e){var r=Number(e.prevotes_bit_array.substring(e.prevotes_bit_array.length-4));r>0&&(t.rate="".concat((100*r).toFixed(),"%"))}))})).catch((function(e){t.httpstatus=500,t.httpStatusText=e}))},validators:function(){var t=this,e=this.chains[this.selected],r=[];this.$http.getValidatorList(e).then((function(t){r=t})).catch((function(){r=(0,O.getCachedValidators)(t.selected.chain_name)||[]})).finally((function(){t.vals=r.map((function(t){var e=t;return e.hex=(0,O.consensusPubkeyToHexAddress)(t.consensus_pubkey),e}))}))},onchange:function(){this.httpstatus=200,this.httpStatusText="",this.roundState={}},showName:function(t,e){var r,n=this;if("nil-Vote"===e){if(this.positions[t]){var i,a=this.vals.find((function(e){return e.hex===n.positions[t].address}));return(null===a||void 0===a||null===(i=a.description)||void 0===i?void 0:i.moniker)||t}return t}var o=e.substring(e.indexOf(":")+1,e.indexOf(" ")),s=this.vals.find((function(t){return t.hex.startsWith(o)}));return(null===s||void 0===s||null===(r=s.description)||void 0===r?void 0:r.moniker)||o}}},P=S,C=r(1001),x=(0,C.Z)(P,n,i,!1,null,null,null),D=x.exports},67857:function(t,e,r){r.d(e,{Z:function(){return d}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{attrs:{"no-body":""}},[r("b-card-body",{staticClass:"d-flex justify-content-between align-items-center"},[r("div",{staticClass:"truncate"},[r("h4",{staticClass:"mb-25 font-weight-bolder"},[t._v(" "+t._s(t.statistic||"-")+" ")]),r("span",[t._v(t._s(t.statisticTitle))])]),r("b-avatar",{attrs:{variant:"light-"+t.color,size:"45"}},[r("feather-icon",{attrs:{size:"21",icon:t.icon}})],1)],1)],1)},i=[],a=(r(9653),r(8775)),o=r(40670),s=r(75200),c={components:{BCard:a._,BCardBody:o.O,BAvatar:s.SH},props:{icon:{type:String,required:!0},statistic:{type:[Number,String],required:!0},statisticTitle:{type:String,default:""},color:{type:String,default:"primary"}}},u=c,l=r(1001),p=(0,l.Z)(u,n,i,!1,null,null,null),d=p.exports},73106:function(t,e,r){r.d(e,{F:function(){return B}});var n,i=r(20144),a=r(1915),o=r(94689),s=r(63294),c=r(12299),u=r(90494),l=r(26410),p=r(33284),d=r(54602),h=r(93954),f=r(67040),b=r(20451),v=r(18280),m=r(91451),g=r(17100);function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _=(0,d.l)("show",{type:c.jy,defaultValue:!1}),j=_.mixin,S=_.props,P=_.prop,C=_.event,x=function(t){return""===t||(0,p.jn)(t)?0:(t=(0,h.Z3)(t,0),t>0?t:0)},D=function(t){return""===t||!0===t||!((0,h.Z3)(t,0)<1)&&!!t},k=(0,b.y2)((0,f.GE)(O(O({},S),{},{dismissLabel:(0,b.pi)(c.N0,"Close"),dismissible:(0,b.pi)(c.U5,!1),fade:(0,b.pi)(c.U5,!1),variant:(0,b.pi)(c.N0,"info")})),o.YJ),B=i["default"].extend({name:o.YJ,mixins:[j,v.Z],props:k,data:function(){return{countDown:0,localShow:D(this[P])}},watch:(n={},w(n,P,(function(t){this.countDown=x(t),this.localShow=D(t)})),w(n,"countDown",(function(t){var e=this;this.clearCountDownInterval();var r=this[P];(0,p.kE)(r)&&(this.$emit(s.Mg,t),r!==t&&this.$emit(C,t),t>0?(this.localShow=!0,this.$_countDownTimeout=setTimeout((function(){e.countDown--}),1e3)):this.$nextTick((function(){(0,l.bz)((function(){e.localShow=!1}))})))})),w(n,"localShow",(function(t){var e=this[P];t||!this.dismissible&&!(0,p.kE)(e)||this.$emit(s.NN),(0,p.kE)(e)||e===t||this.$emit(C,t)})),n),created:function(){this.$_filterTimer=null;var t=this[P];this.countDown=x(t),this.localShow=D(t)},beforeDestroy:function(){this.clearCountDownInterval()},methods:{dismiss:function(){this.clearCountDownInterval(),this.countDown=0,this.localShow=!1},clearCountDownInterval:function(){clearTimeout(this.$_countDownTimeout),this.$_countDownTimeout=null}},render:function(t){var e=t();if(this.localShow){var r=this.dismissible,n=this.variant,i=t();r&&(i=t(m.Z,{attrs:{"aria-label":this.dismissLabel},on:{click:this.dismiss}},[this.normalizeSlot(u.CZ)])),e=t("div",{staticClass:"alert",class:w({"alert-dismissible":r},"alert-".concat(n),n),attrs:{role:"alert","aria-live":"polite","aria-atomic":!0},key:this[a.X$]},[i,this.normalizeSlot()])}return t(g.N,{props:{noFade:!this.fade}},[e])}})},26034:function(t,e,r){r.d(e,{k:function(){return v}});var n=r(20144),i=r(69558),a=r(94689),o=r(12299),s=r(67040),c=r(20451),u=r(30488),l=r(67347);function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f=(0,s.CE)(l.NQ,["event","routerTag"]);delete f.href.default,delete f.to.default;var b=(0,c.y2)((0,s.GE)(d(d({},f),{},{pill:(0,c.pi)(o.U5,!1),tag:(0,c.pi)(o.N0,"span"),variant:(0,c.pi)(o.N0,"secondary")})),a.dJ),v=n["default"].extend({name:a.dJ,functional:!0,props:b,render:function(t,e){var r=e.props,n=e.data,a=e.children,o=r.active,s=r.disabled,p=(0,u.u$)(r),d=p?l.we:r.tag,h=r.variant||"secondary";return t(d,(0,i.b)(n,{staticClass:"badge",class:["badge-".concat(h),{"badge-pill":r.pill,active:o,disabled:s}],props:p?(0,c.uj)(f,r):{}}),a)}})},74199:function(t,e,r){r.d(e,{B:function(){return l},N:function(){return u}});var n=r(20144),i=r(69558),a=r(94689),o=r(12299),s=r(20451),c=r(18222),u=(0,s.y2)({append:(0,s.pi)(o.U5,!1),id:(0,s.pi)(o.N0),isText:(0,s.pi)(o.U5,!1),tag:(0,s.pi)(o.N0,"div")},a.gb),l=n["default"].extend({name:a.gb,functional:!0,props:u,render:function(t,e){var r=e.props,n=e.data,a=e.children,o=r.append;return t(r.tag,(0,i.b)(n,{class:{"input-group-append":o,"input-group-prepend":!o},attrs:{id:r.id}}),r.isText?[t(c.e,a)]:a)}})},22418:function(t,e,r){r.d(e,{B:function(){return h}});var n=r(20144),i=r(69558),a=r(94689),o=r(67040),s=r(20451),c=r(74199);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=(0,s.y2)((0,o.CE)(c.N,["append"]),a.Il),h=n["default"].extend({name:a.Il,functional:!0,props:d,render:function(t,e){var r=e.props,n=e.data,a=e.children;return t(c.B,(0,i.b)(n,{props:l(l({},r),{},{append:!0})}),a)}})},27754:function(t,e,r){r.d(e,{P:function(){return h}});var n=r(20144),i=r(69558),a=r(94689),o=r(67040),s=r(20451),c=r(74199);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d=(0,s.y2)((0,o.CE)(c.N,["append"]),a.iG),h=n["default"].extend({name:a.iG,functional:!0,props:d,render:function(t,e){var r=e.props,n=e.data,a=e.children;return t(c.B,(0,i.b)(n,{props:l(l({},r),{},{append:!1})}),a)}})},18222:function(t,e,r){r.d(e,{e:function(){return u}});var n=r(20144),i=r(69558),a=r(94689),o=r(12299),s=r(20451),c=(0,s.y2)({tag:(0,s.pi)(o.N0,"div")},a.HQ),u=n["default"].extend({name:a.HQ,functional:!0,props:c,render:function(t,e){var r=e.props,n=e.data,a=e.children;return t(r.tag,(0,i.b)(n,{staticClass:"input-group-text"}),a)}})},4060:function(t,e,r){r.d(e,{w:function(){return v}});var n=r(20144),i=r(69558),a=r(94689),o=r(12299),s=r(90494),c=r(18735),u=r(72345),l=r(20451),p=r(22418),d=r(27754),h=r(18222);function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var b=(0,l.y2)({append:(0,l.pi)(o.N0),appendHtml:(0,l.pi)(o.N0),id:(0,l.pi)(o.N0),prepend:(0,l.pi)(o.N0),prependHtml:(0,l.pi)(o.N0),size:(0,l.pi)(o.N0),tag:(0,l.pi)(o.N0,"div")},a.aZ),v=n["default"].extend({name:a.aZ,functional:!0,props:b,render:function(t,e){var r=e.props,n=e.data,a=e.slots,o=e.scopedSlots,l=r.prepend,b=r.prependHtml,v=r.append,m=r.appendHtml,g=r.size,y=o||{},O=a(),w={},_=t(),j=(0,u.Q)(s.kg,y,O);(j||l||b)&&(_=t(d.P,[j?(0,u.O)(s.kg,w,y,O):t(h.e,{domProps:(0,c.U)(b,l)})]));var S=t(),P=(0,u.Q)(s.G$,y,O);return(P||v||m)&&(S=t(p.B,[P?(0,u.O)(s.G$,w,y,O):t(h.e,{domProps:(0,c.U)(m,v)})])),t(r.tag,(0,i.b)(n,{staticClass:"input-group",class:f({},"input-group-".concat(g),g),attrs:{id:r.id||null,role:"group"}}),[_,(0,u.O)(s.Pq,w,y,O),S])}})}}]);