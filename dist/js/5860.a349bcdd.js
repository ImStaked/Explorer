"use strict";(self["webpackChunkping_wallet"]=self["webpackChunkping_wallet"]||[]).push([[5860],{53958:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-card",[s("b-card-title",{staticClass:"d-flex justify-content-between"},[s("span",[t._v("#"+t._s(t.height))]),s("span",[s("b-button",{attrs:{size:"sm"},on:{click:function(e){return t.goblock(t.height-1)}}},[t._v(" < ")]),t._v(" "),s("b-button",{attrs:{size:"sm"},on:{click:function(e){t.goblock(Number(t.height)+1)}}},[t._v(" > ")])],1)]),s("object-field-component",{attrs:{tablefield:t.block.block_id}})],1),s("b-card",{attrs:{title:"Block Header"}},[s("object-field-component",{attrs:{tablefield:t.block.block.header}})],1),t.block.block.data.txs?s("b-card",{attrs:{title:"Transaction"}},[s("b-table",{attrs:{items:t.txs,fields:t.fields,responsive:"sm"},scopedSlots:t._u([{key:"cell(hash)",fn:function(e){return[s("router-link",{attrs:{to:"../tx/"+e.value}},[t._v(" "+t._s(e.value)+" ")])]}}],null,!1,3589811377)})],1):t._e(),t.block.block.evidence.evidence?s("b-card",{attrs:{title:"Evidence"}},[s("array-field-component",{attrs:{tablefield:t.block.block.evidence.evidence}})],1):t._e(),s("b-card",{attrs:{title:"Last Commit"}},[s("object-field-component",{attrs:{tablefield:t.block.block.last_commit,small:!0}})],1)],1)},n=[],o=s(15193),i=s(8775),l=s(13170),r=s(49379),c=s(28972),h=s(74087),u=s(97826),b=s(54333),d=s(74551),m=s(9644),f={components:{BButton:o.T,BCard:i._,BTable:l.h,BCardTitle:r._,ObjectFieldComponent:d.Z,ArrayFieldComponent:m.Z},beforeRouteUpdate(t,e,s){const{height:a}=t.params;a>0&&a!==e.params.height&&(this.initData(a),s())},data(){return{block:{block:{header:{},data:{},evidence:{}}},txs:null,height:0,fields:[{key:"hash"},{key:"fee",formatter:t=>(0,b.tokenFormatter)(t)},{key:"messages",formatter:t=>(0,b.abbrMessage)(t)},{key:"memo"}]}},created(){const{height:t}=this.$route.params;this.initData(t)},methods:{initData(t){this.height=t,this.$http.getBlockByHeight(t).then((t=>{this.block=t;const{txs:e}=t.block.data;if(null===e)return;const s=[];for(let n=0;n<e.length;n+=1){let t=new u.Z;try{const s=(0,h.decodeTxRaw)((0,c.fromBase64)(e[n]));t=u.Z.create(s)}catch(a){}t.setHash(e[n]),s.push(t)}s.length>0&&(this.txs=s)}))},goblock(t){this.$router.push({name:"block",params:{height:t}})}}},k=f,p=s(1001),g=(0,p.Z)(k,a,n,!1,null,null,null),v=g.exports},84941:function(t,e,s){s.d(e,{Z:function(){return a}});var a=function(){}},97826:function(t,e,s){s.d(e,{Z:function(){return i}});var a=s(79562),n=s(28972),o=s(62173);class i{constructor(){this.hash="",this.fee=[new o.Z],this.memo="",this.messages=[],this.signatures=[],this.time=null}static create(t){const e=new i;return e.hash="",e.fee=t.authInfo.fee.amount,e.memo=t.body.memo,e.messages=t.body.messages,e.signatures=t.signatures,e}setHash(t){this.hash=(0,n.toHex)((0,a.sha256)((0,n.fromBase64)(t))).toUpperCase()}}}}]);