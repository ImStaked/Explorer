{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { BCard, BCardTitle, BCardFooter, BButton, BProgressBar, BProgress, BBadge, BTooltip, BRow, BCol, VBModal } from 'bootstrap-vue';\nimport Ripple from 'vue-ripple-directive';\nimport { percent as _percent, tokenFormatter } from '@/libs/utils';\nimport dayjs from 'dayjs';\nimport OperationModal from '@/views/components/OperationModal/index.vue';\nexport default {\n  components: {\n    BCard: BCard,\n    BButton: BButton,\n    BCardFooter: BCardFooter,\n    BProgressBar: BProgressBar,\n    BProgress: BProgress,\n    BBadge: BBadge,\n    BCardTitle: BCardTitle,\n    BTooltip: BTooltip,\n    BRow: BRow,\n    BCol: BCol,\n    OperationModal: OperationModal\n  },\n  directives: {\n    'b-modal': VBModal,\n    Ripple: Ripple\n  },\n  props: {\n    p: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  methods: {\n    selectProposal: function selectProposal(modal, pid, title) {\n      this.$parent.operationModalType = modal;\n      this.$parent.selectedProposalId = Number(pid);\n      this.$parent.selectedTitle = title;\n    },\n    formatType: function formatType(v) {\n      var txt = String(v).replace('Proposal', '');\n      var index = txt.lastIndexOf('.');\n      return index > 0 ? txt.substring(index + 1) : txt;\n    },\n    percent: function percent(v) {\n      return _percent(v);\n    },\n    formatDate: function formatDate(v) {\n      return dayjs(v).format('YYYY-MM-DD');\n    },\n    formatToken: function formatToken(v) {\n      return tokenFormatter(v, {});\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JA,SACAA,KADA,EACAC,UADA,EACAC,WADA,EACAC,OADA,EACAC,YADA,EACAC,SADA,EACAC,MADA,EACAC,QADA,EACAC,IADA,EACAC,IADA,EACAC,OADA,QAEA,eAFA;AAGA;AACA;AACA;AACA;AAEA;EACAC;IACAX,YADA;IAEAG,gBAFA;IAGAD,wBAHA;IAIAE,0BAJA;IAKAC,oBALA;IAMAC,cANA;IAOAL,sBAPA;IAQAM,kBARA;IASAC,UATA;IAUAC,UAVA;IAWAG;EAXA,CADA;EAcAC;IACA,kBADA;IAEAC;EAFA,CAdA;EAkBAC;IACAC;MACAC,YADA;MAEAC;QAAA;MAAA;IAFA;EADA,CAlBA;EAwBAC;IACAC,cADA,0BACAC,KADA,EACAC,GADA,EACAC,KADA,EACA;MACA;MACA;MACA;IACA,CALA;IAMAC,UANA,sBAMAC,CANA,EAMA;MACA;MACA;MACA;IACA,CAVA;IAWAC;MAAA;IAAA,CAXA;IAYAC;MAAA;IAAA,CAZA;IAaAC;MAAA;IAAA;EAbA;AAxBA","names":["BCard","BCardTitle","BCardFooter","BButton","BProgressBar","BProgress","BBadge","BTooltip","BRow","BCol","VBModal","components","OperationModal","directives","Ripple","props","p","type","default","methods","selectProposal","modal","pid","title","formatType","v","percent","formatDate","formatToken"],"sourceRoot":"src/views/components/governance","sources":["ProposalSummaryComponent.vue"],"sourcesContent":["<template>\n  <b-card>\n    <b-card-title\n      class=\"mb-0\"\n      style=\"min-height:55px;\"\n    >\n      #{{ p.id }}.\n      <b-badge\n        pill\n        variant=\"light-primary\"\n      >\n        {{ formatType(p.contents['@type']) }}\n      </b-badge>\n      <router-link\n        :to=\"`./gov/${p.id}`\"\n      >\n        {{ p.title }}\n      </router-link>\n    </b-card-title>\n    <div class=\"gov-wrapper flex-wrap my-1\">\n      <div class=\"gov\">\n        <p class=\"card-text mb-25\">\n          Status\n        </p>\n        <h6 class=\"mb-0\">\n          <span v-if=\"p.status == 1\">\n            Deposit\n          </span>\n          <span v-else-if=\"p.status == 2\">\n            Voting\n          </span>\n          <span v-else-if=\"p.status == 3\">\n            Passed\n          </span>\n          <span v-else-if=\"p.status == 4\">\n            Rejected\n          </span>\n          <span v-else>{{ p.status }}</span>\n        </h6>\n      </div>\n      <div class=\"gov\">\n        <p class=\"card-text mb-25\">\n          Start Date\n        </p>\n        <h6 class=\"mb-0\">\n          {{ formatDate(p.voting_start_time) }}\n        </h6>\n      </div>\n      <div class=\"gov\">\n        <p class=\"card-text mb-25\">\n          End Date\n        </p>\n        <h6 class=\"mb-0\">\n          {{ formatDate(p.voting_end_time) }}\n        </h6>\n      </div>\n      <div class=\"gov\">\n        <p class=\"card-text mb-25\">\n          Deposit\n        </p>\n        <h6 class=\"mb-0\">\n          {{ formatToken(p.total_deposit) || '-' }}\n        </h6>\n      </div>\n    </div>\n\n    <b-progress\n      :max=\"100\"\n      height=\"2rem\"\n      class=\"mb-2\"\n      show-progress\n    >\n      <b-progress-bar\n        :id=\"'vote-yes'+p.id\"\n        variant=\"success\"\n        :value=\"percent(p.tally.yes)\"\n        show-progress\n        :label=\"`${percent(p.tally.yes).toFixed()}%`\"\n      />\n      <b-progress-bar\n        :id=\"'vote-no'+p.id\"\n        variant=\"warning\"\n        :value=\"percent(p.tally.no)\"\n        :label=\"`${percent(p.tally.no).toFixed()}%`\"\n        show-progress\n      />\n      <b-progress-bar\n        :id=\"'vote-veto'+p.id\"\n        variant=\"danger\"\n        :value=\"percent(p.tally.veto)\"\n        :label=\"`${percent(p.tally.veto).toFixed()}%`\"\n        show-progress\n      />\n      <b-progress-bar\n        :id=\"'vote-abstain'+p.id\"\n        variant=\"info\"\n        :value=\"percent(p.tally.abstain)\"\n        :label=\"`${percent(p.tally.abstain).toFixed()}%`\"\n        show-progress\n      />\n    </b-progress>\n    <b-tooltip\n      :target=\"'vote-yes'+p.id\"\n    >\n      {{ percent(p.tally.yes) }}% voted Yes\n    </b-tooltip>\n    <b-tooltip\n      :target=\"'vote-no'+p.id\"\n    >\n      {{ percent(p.tally.no) }}% voted No\n    </b-tooltip>\n    <b-tooltip\n      :target=\"'vote-veto'+p.id\"\n    >\n      {{ percent(p.tally.veto) }}% voted No With Veto\n    </b-tooltip>\n    <b-tooltip\n      :target=\"'vote-abstain'+p.id\"\n    >\n      {{ percent(p.tally.abstain) }}% voted Abstain\n    </b-tooltip>\n    <b-card-footer class=\"pb-0\">\n      <router-link\n        v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\n        :to=\"`./gov/${p.id}`\"\n        variant=\"outline-primary\"\n      >\n        <b-button\n          v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\n          :href=\"`./gov/${p.id}`\"\n          variant=\"outline-primary\"\n        >\n          {{ $t('btn_detail') }}\n        </b-button>\n      </router-link>\n      <b-button\n        v-if=\"p.status===1\"\n        v-b-modal.operation-modal\n        variant=\"primary\"\n        class=\"btn float-right mg-2\"\n        @click=\"selectProposal('GovDeposit',p.id, p.title)\"\n      >\n        {{ $t('btn_deposit') }}\n      </b-button>\n      <b-button\n        v-if=\"p.status===2\"\n        v-b-modal.operation-modal\n        variant=\"primary\"\n        class=\"btn float-right mg-2\"\n        @click=\"selectProposal('Vote',p.id, p.title)\"\n      >\n        {{ $t('btn_vote') }}\n      </b-button>\n    </b-card-footer>\n  </b-card>\n</template>\n\n<script>\nimport {\n  BCard, BCardTitle, BCardFooter, BButton, BProgressBar, BProgress, BBadge, BTooltip, BRow, BCol, VBModal,\n} from 'bootstrap-vue'\nimport Ripple from 'vue-ripple-directive'\nimport { percent, tokenFormatter } from '@/libs/utils'\nimport dayjs from 'dayjs'\nimport OperationModal from '@/views/components/OperationModal/index.vue'\n\nexport default {\n  components: {\n    BCard,\n    BButton,\n    BCardFooter,\n    BProgressBar,\n    BProgress,\n    BBadge,\n    BCardTitle,\n    BTooltip,\n    BRow,\n    BCol,\n    OperationModal,\n  },\n  directives: {\n    'b-modal': VBModal,\n    Ripple,\n  },\n  props: {\n    p: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  methods: {\n    selectProposal(modal, pid, title) {\n      this.$parent.operationModalType = modal\n      this.$parent.selectedProposalId = Number(pid)\n      this.$parent.selectedTitle = title\n    },\n    formatType(v) {\n      const txt = String(v).replace('Proposal', '')\n      const index = txt.lastIndexOf('.')\n      return index > 0 ? txt.substring(index + 1) : txt\n    },\n    percent: v => percent(v),\n    formatDate: v => dayjs(v).format('YYYY-MM-DD'),\n    formatToken: v => tokenFormatter(v, {}),\n  },\n}\n</script>\n\n    <style scoped>\n    section {\n      display: flex;\n      /* flex-wrap: nowrap; */\n      justify-content: space-between;\n    }\n    .card {\n      flex-basis: 49%;\n    }\n    .gov-wrapper {\n        display: flex;\n        justify-content:center;\n    }\n    .dark-layout .gov-wrapper .gov {\n        background-color: #161d31;\n    }\n    .gov-wrapper .gov {\n        padding: .5rem;\n        margin: .3rem;\n        min-width: 7.5rem;\n        text-align: center;\n        background-color: #f8f8f8;\n        border-radius: .357rem;\n    }\n\n    </style>\n"]},"metadata":{},"sourceType":"module"}